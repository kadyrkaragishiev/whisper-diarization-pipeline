# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 3 —à–∞–≥–∞

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
chmod +x setup.sh
./setup.sh
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–≤—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–±)

#### üîí –°–ø–æ—Å–æ–± A: –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –¢–û–õ–¨–ö–û –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π
# https://huggingface.co/settings/tokens
# –ü—Ä–∏–º–∏—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—é: https://huggingface.co/pyannote/speaker-diarization-3.1

export HUGGINGFACE_TOKEN=your_token_here
python download_models.py

# –¢–µ–ø–µ—Ä—å —Ç–æ–∫–µ–Ω –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω!
unset HUGGINGFACE_TOKEN
```

#### üåê –°–ø–æ—Å–æ–± B: –° —Ç–æ–∫–µ–Ω–æ–º (–æ–Ω–ª–∞–π–Ω)
```bash
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω
```

### 3. –ó–∞–ø—É—Å–∫
```bash
source venv/bin/activate

# –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ (–æ—Ñ–ª–∞–π–Ω, –±—ã—Å—Ç—Ä–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
python main.py input/your_audio.wav --local-models models/

# –ò–ª–∏ —Å —Ç–æ–∫–µ–Ω–æ–º (–æ–Ω–ª–∞–π–Ω)
python main.py input/your_audio.wav
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç
python test_pipeline.py

# –ï—Å–ª–∏ —Ç–µ—Å—Ç –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ
python main.py input/test_audio.wav --model tiny --local-models models/
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞ üîí

‚úÖ **–ë—ã—Å—Ç—Ä–µ–µ** - –º–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ** - —Ç–æ–∫–µ–Ω—ã –Ω–µ –Ω—É–∂–Ω—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ  
‚úÖ **–ù–∞–¥–µ–∂–Ω–µ–µ** - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞  
‚úÖ **–ü—Ä–∏–≤–∞—Ç–Ω–µ–µ** - –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç –º–∞—à–∏–Ω—É  

## Docker (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)

```bash
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª —Å —Ç–æ–∫–µ–Ω–æ–º (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è)
cp env.example .env

# –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose build
docker-compose run --rm whisper-diarization /app/input/your_audio.wav --local-models /app/models
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –≤ –ø–∞–ø–∫–µ `output/`:
- `*_result.json` - –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `*_segments.csv` - —Ç–∞–±–ª–∏—Ü–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- `*_transcript.txt` - —á–∏—Ç–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

WAV, MP3, M4A, FLAC, OGG, WMA

## –ú–æ–¥–µ–ª–∏ Whisper

- `tiny` - –±—ã—Å—Ç—Ä–æ, –±–∞–∑–æ–≤–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- `base` - —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `small` - —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- `medium` - –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- `large` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–∫–∞—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –º–æ–¥–µ–ª–∏
python download_models.py --whisper-models "base,small"

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å—Ä–µ–¥—ã
export LOCAL_MODELS_DIR=models
python main.py input/audio.wav

# –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
python main.py input/audio.wav --model tiny --local-models models/

# –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
python main.py input/audio.wav --model large --local-models models/
```

---

üí° **–ü—Ä–æ–±–ª–µ–º—ã?** –°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ [README.md](README.md)  
üîí **–û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º**: [OFFLINE_USAGE.md](OFFLINE_USAGE.md) 