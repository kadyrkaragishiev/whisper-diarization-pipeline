# –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π Whisper

–≠—Ç–æ—Ç –ø–∞–π–ø–ª–∞–π–Ω —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π Whisper –∏–∑ HuggingFace –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –º–æ–¥–µ–ª—è–º OpenAI Whisper.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å —Ä—É—Å—Å–∫–æ–π –º–æ–¥–µ–ª—å—é

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install transformers accelerate safetensors
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä—É—Å—Å–∫–æ–π –º–æ–¥–µ–ª–∏
–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –ø–∞–ø–∫–∞ `whisper-large-v3-russian-pt` —Å –º–æ–¥–µ–ª—å—é. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```bash
python setup_russian_model.py
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```bash
python main.py input.wav --custom-model models/custom_whisper/whisper-large-v3-russian
```

## üìñ –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –º–æ–¥–µ–ª–µ–π

1. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ Whisper** (OpenAI): tiny, base, small, medium, large
2. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–æ–¥–µ–ª–∏ HuggingFace**: –º–æ–¥–µ–ª–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ transformers

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

#### –°–ø–æ—Å–æ–± 1: –ò–∑ HuggingFace Hub
```bash
# –°–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å –Ω–∞–ø—Ä—è–º—É—é –∏–∑ HF Hub
python download_models.py --custom-whisper-model antony66/whisper-large-v3-russian

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
python main.py input.wav --custom-model antony66/whisper-large-v3-russian
```

#### –°–ø–æ—Å–æ–± 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à—É –ª–æ–∫–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –≤ –∫–µ—à
python download_models.py --copy-local-model whisper-large-v3-russian-pt --local-model-name whisper-large-v3-russian

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
python main.py input.wav --custom-model models/custom_whisper/whisper-large-v3-russian
```

#### –°–ø–æ—Å–æ–± 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–¥–ª—è –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏)
```bash
python setup_russian_model.py
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
```bash
python download_models.py --list-custom
```

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
```
models/
‚îú‚îÄ‚îÄ custom_whisper/           # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–æ–¥–µ–ª–∏ Whisper
‚îÇ   ‚îú‚îÄ‚îÄ whisper-large-v3-russian/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generation_config.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model-00001-of-00002.safetensors
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model-00002-of-00002.safetensors
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ –¥—Ä—É–≥–∏–µ_–º–æ–¥–µ–ª–∏/
‚îú‚îÄ‚îÄ pyannote/                 # –ú–æ–¥–µ–ª–∏ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ whisper/                  # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ Whisper (–∫–µ—à)
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –º–æ–¥–µ–ª—å
```bash
python main.py input.wav --model large
```

#### –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å
```bash
python main.py input.wav --custom-model models/custom_whisper/whisper-large-v3-russian
```

#### –ö–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –∏–∑ HF Hub
```bash
python main.py input.wav --custom-model antony66/whisper-large-v3-russian
```

#### –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π
```bash
python main.py input.wav \
  --custom-model models/custom_whisper/whisper-large-v3-russian \
  --min-speakers 2 \
  --max-speakers 5 \
  --alignment-strategy smart
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

1. **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ú–æ–¥–µ–ª–∏, –æ–±—É—á–µ–Ω–Ω—ã–µ –Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫)
2. **–ö–∞—á–µ—Å—Ç–≤–æ**: –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è —Ü–µ–ª–µ–≤–æ–≥–æ —è–∑—ã–∫–∞/–¥–æ–º–µ–Ω–∞
3. **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
4. **–ì–∏–±–∫–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä –∏ —Ä–∞–∑–º–µ—Ä–æ–≤

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### –†–∞–∑–ª–∏—á–∏—è –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `whisper`
- –ü—Ä—è–º–æ–π API –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫

**–ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–æ–¥–µ–ª–∏:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `transformers`
- –¢—Ä–µ–±—É—é—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ (–ø–æ–∫–∞ —á—Ç–æ)

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∞–º—è—Ç–∏

- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏**: –ö–∞–∫ –æ–±—ã—á–Ω–æ –¥–ª—è Whisper
- **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–æ–¥–µ–ª–∏**: –ú–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ GPU –ø–∞–º—è—Ç–∏
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--device cpu` –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π –Ω–∞ —Å–ª–∞–±–æ–º –∂–µ–ª–µ–∑–µ

### –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

#### –û—à–∏–±–∫–∞ "transformers –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
```bash
pip install transformers accelerate
```

#### –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏ –Ω–∞ MPS (Apple Silicon)
```bash
python main.py input.wav --custom-model path/to/model --device cpu
```

#### –ù–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ –≤ –∫–∞—Å—Ç–æ–º–Ω–æ–π –º–æ–¥–µ–ª–∏
- –≠—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
- –°–µ–≥–º–µ–Ω—Ç—ã —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º
- –í –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –±—É–¥–µ—Ç —É–ª—É—á—à–µ–Ω–æ

### –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª—É—á—à–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥–µ–ª–µ–π –¥—Ä—É–≥–∏—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –ë–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

### –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issues –∏–ª–∏ pull requests!

## ü§ù –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [antony66/whisper-large-v3-russian](https://huggingface.co/antony66/whisper-large-v3-russian) - –∑–∞ –æ—Ç–ª–∏—á–Ω—É—é —Ä—É—Å—Å–∫—É—é –º–æ–¥–µ–ª—å Whisper
- HuggingFace transformers team - –∑–∞ –≥–∏–±–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- OpenAI - –∑–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π Whisper 